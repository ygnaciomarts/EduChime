<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles2.css">
    <title>Calculadora Arrastrable</title>
</head>
<body>

<div class="calculator" id="calculator">
    <div class="bar" id="bar">Calculadora</div>
    <div class="display" id="display">0</div>
    <div class="buttons">
        <button>7</button>
        <button>8</button>
        <button>9</button>
        <button class="operator">/</button>

        <button>4</button>
        <button>5</button>
        <button>6</button>
        <button class="operator">*</button>

        <button>1</button>
        <button>2</button>
        <button>3</button>
        <button class="operator">-</button>

        <button class="double">0</button>
        <button>.</button>
        <button class="equal operator">=</button>
        <button class="operator">+</button>

        <button class="double clear" id="clear">C</button>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const calculator = document.getElementById('calculator');
        const display = document.getElementById('display');
        const bar = document.getElementById('bar');
        const buttons = document.querySelectorAll('button');
        let isDragging = false;
        let offsetX, offsetY;
        let currentInput = '0';
        let result = 0;

        bar.addEventListener('mousedown', function (e) {
            isDragging = true;
            offsetX = e.clientX - calculator.getBoundingClientRect().left;
            offsetY = e.clientY - calculator.getBoundingClientRect().top;
        });

        document.addEventListener('mousemove', function (e) {
            if (isDragging) {
                const x = e.clientX - offsetX;
                const y = e.clientY - offsetY;

                calculator.style.left = x + 'px';
                calculator.style.top = y + 'px';
            }
        });

        document.addEventListener('mouseup', function () {
            isDragging = false;
        });

        buttons.forEach(button => {
            button.addEventListener('click', function () {
                if (button.innerText === 'C') {
                    currentInput = '0';
                } else if (button.innerText === '=') {
                    try {
                        result = eval(currentInput);
                        currentInput = result.toString();
                    } catch (error) {
                        currentInput = 'Error';
                    }
                } else {
                    if (currentInput === '0') {
                        currentInput = '';
                    }
                    currentInput += button.innerText;
                }
                display.innerText = currentInput;
            });
        });
    });
</script>

</body>
</html>
